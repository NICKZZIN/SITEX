<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulação de Overflow e Underflow</title>
</head>
<body>

<h1>Simulação de Overflow e Underflow</h1>

<label for="lsb">Isb:</label>
<input type="number" id="lsb" value="30">

<label for="width">Width:</label>
<input type="number" id="width" value="35">

<label for="method">Método:</label>
<select id="method">
    <option value="unsafe">unsafeAdd</option>
    <option value="safe">safeAdd</option>
</select>

<button onclick="runTest()">Executar Teste</button>

<pre id="output"></pre>

<script>
    function unsafeAdd(lsb, width, datasize) {
        return (lsb + width <= datasize);
    }

    function safeAdd(lsb, width, datasize) {
        try {
            if (lsb + width > datasize) {
                throw new Error("Overflow detectado");
            }
            return "Sucesso";
        } catch (error) {
            return error.message;
        }
    }

    function runTest() {
        const datasize = 64;
        const lsb = parseInt(document.getElementById("lsb").value);
        const width = parseInt(document.getElementById("width").value);
        const method = document.getElementById("method").value;

        let result;
        if (method === "unsafe") {
            result = unsafeAdd(lsb, width, datasize) ? "Sucesso" : "Falha (Overflow)";
        } else {
            result = safeAdd(lsb, width, datasize);
        }

        document.getElementById("output").textContent = `Isb: ${lsb}, Width: ${width}, Resultado: ${result}`;
    }
</script>

</body>
</html>
